<ng-template #content let-modal>
  <nb-card class="w-100">
    <nb-card-header class="w-100 d-flex justify-content-between align-items-center">
      <div>
        <p class="font-weight-bold">Other Reference</p>
      </div>
      <div>
        <button class="btn btn-primary" (click)="toggleAddForm()">
          <i class="fa-regular fa-plus"></i> Add Reference
        </button>
      </div>
    </nb-card-header>
    <nb-card-body>
      <div *ngIf="rowData.backupRef.length > 0">
        <form *ngIf="showAddForm">
          <div class="w-75 d-flex flex-column align-items-center justify-content-center">
            <input type="text" placeholder="Reference" [(ngModel)]="reference" [ngModelOptions]="{standalone: true}" required>
            <input type="number" placeholder="Value" [(ngModel)]="value" [ngModelOptions]="{standalone: true}" required>
          </div>
          <div class="w-75 d-flex justify-content-center align-items-center">
            <button class="btn btn-primary" (click)="addReference()">Add</button>
          </div>
        </form>
        <table class="table mt-3">
          <thead>
          <tr>
            <th>ID</th>
            <th>Reference</th>
            <th>Value</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of rowData.backupRef">
            <td>{{ item.id }}</td>
            <td>{{ item.reference }}</td>
            <td>{{ item.value }} {{ rowData.category.measurementUnit }}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="rowData.backupRef.length === 0" class="no-reference">
        No component references available.
      </div>
    </nb-card-body>
  </nb-card>
</ng-template>

<button *ngIf="rowData.backupRef.length !== 0" class="btn btn-lg btn-outline-primary mt-3" (click)="open(content)">
  <i class="fa fa-info"></i> Show References
</button>
